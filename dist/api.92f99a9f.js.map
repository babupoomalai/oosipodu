{"version":3,"sources":["js/api.js"],"names":["baseURL","sha256","message","crypto","msgUint8","TextEncoder","encode","subtle","digest","hashHex","hashBuffer","hashArray","Array","from","Uint8Array","map","b","toString","padStart","join","exports","sendOTP","mobile","fetch","$","text","removeAttr","method","headers","body","JSON","stringify","secret","validateOTP","id","otp","txnId","response","json","getBeneficiaries","token","Authorization","getCaptcha"],"mappings":"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","file":"api.92f99a9f.js","sourceRoot":"..","sourcesContent":["// import jquery from \"jquery\";\n// export default (window.$ = window.jQuery = jquery);\n\nconst baseURL = 'https://cdn-api.co-vin.in/api/v2'\n\n\nconst sha256 = async function (message) {\n\tconst msgUint8 = new TextEncoder().encode(message)\n\tconst hashBuffer = await crypto.subtle.digest('SHA-256', msgUint8)\n\tconst hashArray = Array.from(new Uint8Array(hashBuffer))\n\tconst hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('')\n\treturn hashHex\n}\n\n\nexports.sendOTP = async function (mobile) {\n\t// const mobile = $('#mobileNo').val();\n\t$('#alert').text('OTP successfully sent to ' + mobile);\n\t$('#alertPanel').removeAttr('style');\n\t$('#validatePanel').removeAttr('style');\n\treturn fetch(`${baseURL}/auth/generateMobileOTP`, {\n\t\tmethod: 'post',\n\t\theaders: {'Content-Type': 'application/json'},\n\t\tbody: JSON.stringify({\n\t\t\tmobile,\n\t\t\tsecret: 'U2FsdGVkX19mD56KTNfQsZgXJMwOG7u/6tuj0Qvil1LEjx783oxHXGUTDWYm+XMYVGXPeu+a24sl5ndEKcLTUQ=='\n\t\t})\n\t})\n}\n\nexports.validateOTP = async function (id, otp) {\n\tconst response = await fetch(`${baseURL}/auth/validateMobileOtp`, {\n\t\tmethod: 'post',\n\t\theaders: {'Content-Type': 'application/json'},\n\t\tbody: JSON.stringify({\n\t\t\ttxnId: id,\n\t\t\totp: await sha256(otp)\n\t\t})\n\t})\n\n\treturn response.json()\n}\n\nexports.getBeneficiaries = async function (token) {\n\tconst response = await fetch(`${baseURL}/appointment/beneficiaries`, {\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t}\n\t})\n\n\treturn response.json()\n}\n\nexports.getCaptcha = async function (token) {\n\tconst response = await fetch(`${baseURL}/auth/getRecaptcha`, {\n\t\tmethod: 'post',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({})\n\t})\n\n\treturn response.json()\n}\n\n"]}